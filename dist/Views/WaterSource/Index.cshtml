@using WGRanch.ViewModels
@model WellIndexViewModel
@{
	ViewBag.Title = "Water Sources";
}

<div class="row">
	<div class="span12">
		<div class="widget widget-table action-table">
			<div class="widget-header">
				<h3>Water Sources</h3>
				@if (Model.UserCanDeleteWell && Model.UserCanUpdateWell)
	{
					<a class="btn btn-small btn-success pull-right" title="add new well" href="@Url.Action("Create", "WaterSource")"><i class="btn-icon-only icon-plus icon-white"></i></a>
	}
			</div>
			<div class="widget-content">

				<table id="Wells" class="table table-striped">
					<thead>
						<tr>
							<th>Description
							</th>
							<th>Water Source Type
							</th>
							<th>Casing Size
							</th>
							<th>Depth
							</th>
							<th>Pump Depth
							</th>
							<th>Motor Size
							</th>
							@if (Model.UserCanDeleteWell || Model.UserCanUpdateWell)
	   {
								<th class="td-actions">&nbsp;
								</th>
	   }
						</tr>
					</thead>
					<tbody>
						@foreach (var well in Model.Wells)
	  {
							<tr>
								<td>
									@Html.ActionLink(well.Description, "Details", "WaterSource", new { well.Id }, null)
								</td>
								<td>
									@well.WaterSourceType.ConvertToString()
								</td>
								<td>
									@well.CasingSize
								</td>
								<td>@well.WellDepth
								</td>
								<td>@well.PumpDepth
								</td>
								<td>@well.MotorSize
								</td>
								@if (Model.UserCanDeleteWell || Model.UserCanUpdateWell)
		{
									<td class="td-actions">

										@if (Model.UserCanDeleteWell)
		  {
			  using (Html.BeginForm("Delete", "WaterSource", new { well.Id }, FormMethod.Post))
			  {
											<button class="confirm btn btn-danger btn-small" data-confirm-text="Are you sure you want to delete the well?" title="Delete Well" type="submit"><i class="icon-remove btn-icon-only"></i></button>
			  }
		  }
										@if (Model.UserCanUpdateWell)
		  {
			  using (Html.BeginForm("Update", "WaterSource", new { well.Id }, FormMethod.Get))
			  {
											<button class="btn btn-small" title="Edit Well" type="submit"><i class="icon-edit"></i>edit</button>
			  }
		  }
									</td>
		}
							</tr>
	  }
					</tbody>
				</table>

			</div>
		</div>
	</div>
</div>


@section Styles
{
	<style type="text/css">
		.widget-header .btn {
			margin-right: 13px;
			margin-top: 7px;
			padding: 0px;
		}

			.widget-header .btn i {
				margin: 0px;
				color: white;
				padding: 6px;
				font-size: 13px;
			}

		table .td-actions form {
			display: inline-block;
			margin: 0px;
			padding: 0px;
		}

		table .td-actions {
			width: 95px;
		}
	</style>
}
@section Scripts
{
	<script type="text/javascript">
		$(function () {
		});
	</script>
}


