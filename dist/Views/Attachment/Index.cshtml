@model IEnumerable<WGRanch.Models.Attachment>
@{
	ViewBag.Title = "Attachments";
}
<div class="row">
	<div class="span12">
		<div class="widget widget-table action-table">
			<div class="widget-header">
				<i class="icon-th-list"></i>
				<h3>Attachments</h3>
			</div>
			<div class="widget-content">
				<table id="WaterRights" class="table table-striped table-bordered table-condensed">
					<thead>
						<tr>
							<th>File Name</th>
							<th>Full URL</th>
							<th style="width: 275px;">Shortened URL</th>
							@*<th>IsDeleted</th>
								<th>&nbsp;</th>*@
						</tr>
					</thead>
					<tbody>
						@foreach (var attachment in Model)
						{
							<tr>
								<td>
									@attachment.OriginalFileName
								</td>
								<td>
									<a href="@attachment.Uri" target="_blank">@attachment.Uri</a>
								</td>
								<td style="text-align: right;">
									@{
							var shortUrl = Url.AttachmentUrlShorted(attachment);
									}
									<a href="@shortUrl" target="_blank">@shortUrl</a>
									&nbsp;
									<button class="btn" onclick="prompt('Press Ctrl+C (Cmd+C for Mac) to copy', '@(shortUrl)');">copy</button>
								</td>
								@*<td>
										@attachment.IsDeleted
									</td>
									<td>
										<form action="@Url.Action("Delete", "Attachment")" method="POST">
											@Html.Hidden("AttachmentId", attachment.Id)
											<button onclick="return confirm('Are you sure you want to delete this attachment?');" type="submit" class="btn btn-danger btn-mini">x</button>
										</form>
									</td>*@
							</tr>
						}
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>
@section Styles
{
	<style type="text/css">
		table form {
			padding: 0;
			margin: 0;
		}
	</style>
}
