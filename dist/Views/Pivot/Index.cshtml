@model WGRanch.ViewModels.PivotIndexViewModel
@{
	ViewBag.Title = "Pivots";
}

<div class="row">
	<div class="span12">
		<div class="widget widget-table action-table">
			<div class="widget-header">
				<h3>Pivots</h3>
				@if (Model.UserCanDeletePivot && Model.UserCanUpdatePivot)
	{
					<a class="btn btn-small btn-success pull-right" title="add new pivot" href="@Url.Action("Create", "Pivot")"><i class="btn-icon-only icon-plus icon-white"></i></a>
	}
			</div>
			<div class="widget-content">

				<table id="Pivots" class="table table-striped">
					<thead>
						<tr>
							<th>Pivot #
							</th>
							<th>Acres
							</th>
							<th>Longitude
							</th>
							<th>Latitude
							</th>
							@if (Model.UserCanDeletePivot || Model.UserCanUpdatePivot)
	   {
								<th class="td-actions">&nbsp;
								</th>
	   }
						</tr>
					</thead>
					<tbody>
						@foreach (var pivot in Model.Pivots)
	  {
							<tr>
								<td>
									@Html.ActionLink(pivot.PivotNumber.ToString(), "Details", "Pivot", new { pivot.Id }, null)
								</td>
								<td>
									@pivot.Acres
								</td>
								<td>
									@pivot.Longitude
								</td>
								<td>
									@pivot.Latitude
								</td>
								@if (Model.UserCanDeletePivot || Model.UserCanUpdatePivot)
		{
									<td class="td-actions">

										@if (Model.UserCanDeletePivot)
		  {
			  using (Html.BeginForm("Delete", "Pivot", new { pivot.Id }, FormMethod.Post))
			  {
											<button class="confirm btn btn-danger btn-small" data-confirm-text="Are you sure you want to delete the Pivot?" title="Delete Pivot" type="submit"><i class="icon-remove btn-icon-only"></i></button>
			  }
		  }
										@if (Model.UserCanUpdatePivot)
		  {
			  using (Html.BeginForm("Update", "Pivot", new { pivot.Id }, FormMethod.Get))
			  {
											<button class="btn btn-small" title="Edit Pivot" type="submit"><i class="icon-edit"></i>edit</button>
			  }
		  }
									</td>
		}
							</tr>
	  }
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>

@section Styles
{
	<style type="text/css">
		.widget-header .btn {
			margin-right: 13px;
			margin-top: 7px;
			padding: 0px;
		}

			.widget-header .btn i {
				margin: 0px;
				color: white;
				padding: 6px;
				font-size: 13px;
			}

		table .td-actions form {
			display: inline-block;
			margin: 0px;
			padding: 0px;
		}

		table .td-actions {
			width: 95px;
		}
	</style>
}
@section Scripts
{
	<script type="text/javascript">
		$(function () {
		});
	</script>
}
